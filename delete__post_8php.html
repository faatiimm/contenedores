<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My PHP Sample: Referencia del archivo /home/runner/work/contenedores/contenedores/backend/delete_post.php</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My PHP Sample<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Para probar GitHub Actions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Buscar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Cargando...</div>
<div class="SRStatus" id="Searching">Buscando...</div>
<div class="SRStatus" id="NoMatches">Nada coincide</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8c739bbef76d64b22d6b0911c526dd76.html">backend</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Referencia del archivo delete_post.php</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af2646c942a530b6678a7627d7f9fabb4" id="r_af2646c942a530b6678a7627d7f9fabb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="feed_8php.html#ae396108fa8ede9e34bbadeadbf4ef8bf">if</a>(!isset($_SESSION['id_usuario']))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delete__post_8php.html#af2646c942a530b6678a7627d7f9fabb4">$id_post</a> = $_GET['id'] ?? null</td></tr>
<tr class="separator:af2646c942a530b6678a7627d7f9fabb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8bda0aeed55a4a881bf83733fa46941" id="r_ad8bda0aeed55a4a881bf83733fa46941"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delete__post_8php.html#ad8bda0aeed55a4a881bf83733fa46941">$id_usuario_sesion</a> = $_SESSION['id_usuario']</td></tr>
<tr class="separator:ad8bda0aeed55a4a881bf83733fa46941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a8278f39c6a51b0f19bfd84a2685c2" id="r_a21a8278f39c6a51b0f19bfd84a2685c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="feed_8php.html#ae396108fa8ede9e34bbadeadbf4ef8bf">if</a>($id_post)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delete__post_8php.html#a21a8278f39c6a51b0f19bfd84a2685c2">else</a></td></tr>
<tr class="separator:a21a8278f39c6a51b0f19bfd84a2685c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentación de variables</h2>
<a id="af2646c942a530b6678a7627d7f9fabb4" name="af2646c942a530b6678a7627d7f9fabb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2646c942a530b6678a7627d7f9fabb4">&#9670;&#160;</a></span>$id_post</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="feed_8php.html#ae396108fa8ede9e34bbadeadbf4ef8bf">if</a> (!isset( $_SESSION[ 'id_usuario'])) $id_post = $_GET['id'] ?? null</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Paso 1: Control de Acceso. Verifica que el usuario tenga una sesión activa. Si no es así, redirige al login.</p><ul>
<li>Paso 2: Captura de Parámetros. Obtiene el ID del post a eliminar desde la URL (GET) y el ID del usuario desde la sesión. </li>
</ul>

</div>
</div>
<a id="ad8bda0aeed55a4a881bf83733fa46941" name="ad8bda0aeed55a4a881bf83733fa46941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8bda0aeed55a4a881bf83733fa46941">&#9670;&#160;</a></span>$id_usuario_sesion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$id_usuario_sesion = $_SESSION['id_usuario']</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a21a8278f39c6a51b0f19bfd84a2685c2" name="a21a8278f39c6a51b0f19bfd84a2685c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21a8278f39c6a51b0f19bfd84a2685c2">&#9670;&#160;</a></span>else</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="feed_8php.html#ae396108fa8ede9e34bbadeadbf4ef8bf">if</a> ( $id_post) else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor inicial:</b><div class="fragment"><div class="line">{</div>
<div class="line">    </div>
<div class="line">    header(<span class="stringliteral">&quot;Location: ../frontend/perfil.php&quot;</span>)</div>
</div><!-- fragment --><p>Paso 3: Validación de Propiedad (Seguridad Crítica). Antes de borrar, se consulta si el post realmente pertenece al usuario en sesión. Esto evita que un usuario borre publicaciones ajenas modificando el ID en la URL.</p>
<p>Paso 4: Ejecución del Borrado. Se procede a eliminar el registro de la tabla 'posts'. Nota técnica: Para evitar errores de integridad, la base de datos debe estar configurada con ON DELETE CASCADE para los comentarios asociados.</p>
<p>Intento de acceso no autorizado: El post no existe o el ID de usuario no coincide con el autor.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
